count(word, sort = TRUE) %>%
top_n(150)
# procent for konge
4927/4844038*100
# procent for historie
3532/4844038*100
stopord <- read_csv("stopord.txt")
tekster_tidy %>%
anti_join(stopord, by = "word") %>%
count(word, sort = TRUE) %>%
select(word, n) -> tekster_tidy_nostops
slice(tekster_tidy_nostops, 5728)
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- arrange(luksusvarer, desc(n))
luksusvarer %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 20) +
theme_minimal() +
scale_color_gradient(low = "black", high = "red")
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
library(tidyverse)
library(tidytext)
library(tei2r)
library(ggwordcloud)
read_tei <- function(folder) {
list.files(folder, pattern = '\\.xml$', full.names = TRUE) %>%
map_dfr(~.x %>% parseTEI(.,node = "text") %>%tibble())
}
tekster <- read_tei("/Users/vhol/Documents/Rprojects/Holbergskaffe/forfatterskab")
tekster <- rename(tekster, text = .)
data.frame(lapply(tekster, function(x) {gsub("[.]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x) {gsub("[:]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([a-å])([0-9])","\\1 \\2")})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([0-9])([a-åA-Å])","\\1 \\2")})) -> tekster
tekster %>%
unnest_tokens(word, text) %>%
select(word, everything()) -> tekster_tidy
kaffe_ord <- c("caffee", "caffe", "cafe", "café", "caffée", "coffee", "caffee-bord",
"caffee-bønner", "caffee-drik", "caffee-drikken", "caffee-drikker",
"caffee-huus", "kafé", "caffee-tand", "cafee", "caffeé")
kaffe_total <- filter(tekster_tidy, word %in% kaffe_ord)
kaffe_total %>%
count(word, sort = TRUE) -> kaffe_antal
kaffe_antal
99/4844038*100
the_ord <- c("thee", "the", "thée", "thé", "tee")
the_total <- filter(tekster_tidy, word %in% the_ord)
the_total %>%
count(word, sort = TRUE) -> the_antal
tobak_ord <- c("tobak", "toback", "tobac", "tobach", "tabak",
"tabac", "tobaks", "tabaks", "tabacs")
tobak_total <- filter(tekster_tidy, word %in% tobak_ord)
tobak_total %>%
count(word, sort = TRUE) -> tobak_antal
# The procent:
182/4844038*100
# Tobak procent:
130/4844038*100
tekster_tidy %>%
count(word, sort = TRUE) %>%
top_n(150)
# procent for konge
4927/4844038*100
# procent for historie
3532/4844038*100
stopord <- read_csv("stopord.txt")
tekster_tidy %>%
anti_join(stopord, by = "word") %>%
count(word, sort = TRUE) %>%
select(word, n) -> tekster_tidy_nostops
slice(tekster_tidy_nostops, 5728)
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- arrange(luksusvarer, desc(n))
luksusvarer %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 20) +
theme_minimal() +
scale_color_gradient(low = "black", high = "red")
library(tidyverse)
library(tidytext)
library(tei2r)
library(ggwordcloud)
read_tei <- function(folder) {
list.files(folder, pattern = '\\.xml$', full.names = TRUE) %>%
map_dfr(~.x %>% parseTEI(.,node = "text") %>%tibble())
}
tekster <- read_tei("/Users/vhol/Documents/Rprojects/Holbergskaffe/forfatterskab")
tekster <- rename(tekster, text = .)
data.frame(lapply(tekster, function(x) {gsub("[.]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x) {gsub("[:]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([a-å])([0-9])","\\1 \\2")})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([0-9])([a-åA-Å])","\\1 \\2")})) -> tekster
tekster %>%
unnest_tokens(word, text) %>%
select(word, everything()) -> tekster_tidy
kaffe_ord <- c("caffee", "caffe", "cafe", "café", "caffée", "coffee", "caffee-bord",
"caffee-bønner", "caffee-drik", "caffee-drikken", "caffee-drikker",
"caffee-huus", "kafé", "caffee-tand", "cafee", "caffeé")
kaffe_total <- filter(tekster_tidy, word %in% kaffe_ord)
kaffe_total %>%
count(word, sort = TRUE) -> kaffe_antal
kaffe_antal
99/4844038*100
the_ord <- c("thee", "the", "thée", "thé", "tee")
the_total <- filter(tekster_tidy, word %in% the_ord)
the_total %>%
count(word, sort = TRUE) -> the_antal
tobak_ord <- c("tobak", "toback", "tobac", "tobach", "tabak",
"tabac", "tobaks", "tabaks", "tabacs")
tobak_total <- filter(tekster_tidy, word %in% tobak_ord)
tobak_total %>%
count(word, sort = TRUE) -> tobak_antal
# The procent:
182/4844038*100
# Tobak procent:
130/4844038*100
tekster_tidy %>%
count(word, sort = TRUE) %>%
top_n(150)
# procent for konge
4927/4844038*100
# procent for historie
3532/4844038*100
stopord <- read_csv("stopord.txt")
tekster_tidy %>%
anti_join(stopord, by = "word") %>%
count(word, sort = TRUE) %>%
select(word, n) -> tekster_tidy_nostops
slice(tekster_tidy_nostops, 5728)
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- arrange(luksusvarer, desc(n))
luksusvarer %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 20) +
theme_minimal() +
scale_color_gradient(low = "black", high = "red")
View(tekster)
library(tidyverse)
library(tidytext)
library(tei2r)
library(ggwordcloud)
read_tei <- function(folder) {
list.files(folder, pattern = '\\.xml$', full.names = TRUE) %>%
map_dfr(~.x %>% parseTEI(.,node = "text") %>%tibble())
}
tekster <- read_tei("/Users/vhol/Documents/Rprojects/Holbergskaffe/forfatterskab")
tekster <- rename(tekster, text = .)
data.frame(lapply(tekster, function(x) {gsub("[.]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x) {gsub("[:]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([a-å])([0-9])","\\1 \\2")})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([0-9])([a-åA-Å])","\\1 \\2")})) -> tekster
tekster %>%
unnest_tokens(word, text) %>%
select(word, everything()) -> tekster_tidy
kaffe_ord <- c("caffee", "caffe", "cafe", "café", "caffée", "coffee", "caffee-bord",
"caffee-bønner", "caffee-drik", "caffee-drikken", "caffee-drikker",
"caffee-huus", "kafé", "caffee-tand", "cafee", "caffeé")
kaffe_total <- filter(tekster_tidy, word %in% kaffe_ord)
kaffe_total %>%
count(word, sort = TRUE) -> kaffe_antal
kaffe_antal
99/4844038*100
the_ord <- c("thee", "the", "thée", "thé", "tee")
the_total <- filter(tekster_tidy, word %in% the_ord)
the_total %>%
count(word, sort = TRUE) -> the_antal
tobak_ord <- c("tobak", "toback", "tobac", "tobach", "tabak",
"tabac", "tobaks", "tabaks", "tabacs")
tobak_total <- filter(tekster_tidy, word %in% tobak_ord)
tobak_total %>%
count(word, sort = TRUE) -> tobak_antal
# The procent:
182/4844038*100
# Tobak procent:
130/4844038*100
tekster_tidy %>%
count(word, sort = TRUE) %>%
top_n(150)
# procent for konge
4927/4844038*100
# procent for historie
3532/4844038*100
stopord <- read_csv("stopord.txt")
tekster_tidy %>%
anti_join(stopord, by = "word") %>%
count(word, sort = TRUE) %>%
select(word, n) -> tekster_tidy_nostops
slice(tekster_tidy_nostops, 5728)
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- arrange(luksusvarer, desc(n))
luksusvarer %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 20) +
theme_minimal() +
scale_color_gradient(low = "black", high = "red")
library(tidyverse)
library(tidytext)
library(tei2r)
library(ggwordcloud)
read_tei <- function(folder) {
list.files(folder, pattern = '\\.xml$', full.names = TRUE) %>%
map_dfr(~.x %>% parseTEI(.,node = "text") %>%tibble())
}
tekster <- read_tei("/Users/vhol/Documents/Rprojects/Holbergskaffe/forfatterskab")
tekster <- rename(tekster, text = .)
data.frame(lapply(tekster, function(x) {gsub("[.]", " ", x)})) -> tekster
library(tidyverse)
library(tidytext)
library(tei2r)
library(ggwordcloud)
read_tei <- function(folder) {
list.files(folder, pattern = '\\.xml$', full.names = TRUE) %>%
map_dfr(~.x %>% parseTEI(.,node = "text") %>%tibble())
}
tekster <- read_tei("/Users/vhol/Documents/Rprojects/Holbergskaffe/forfatterskab")
tekster <- rename(tekster, text = .)
data.frame(lapply(tekster, function(x) {gsub("[.]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x) {gsub("[:]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([a-å])([0-9])","\\1 \\2")})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([0-9])([a-åA-Å])","\\1 \\2")})) -> tekster
tekster %>%
unnest_tokens(word, text) %>%
select(word, everything()) -> tekster_tidy
kaffe_ord <- c("caffee", "caffe", "cafe", "café", "caffée", "coffee", "caffee-bord",
"caffee-bønner", "caffee-drik", "caffee-drikken", "caffee-drikker",
"caffee-huus", "kafé", "caffee-tand", "cafee", "caffeé")
kaffe_total <- filter(tekster_tidy, word %in% kaffe_ord)
kaffe_total %>%
count(word, sort = TRUE) -> kaffe_antal
kaffe_antal
99/4844038*100
the_ord <- c("thee", "the", "thée", "thé", "tee")
the_total <- filter(tekster_tidy, word %in% the_ord)
the_total %>%
count(word, sort = TRUE) -> the_antal
tobak_ord <- c("tobak", "toback", "tobac", "tobach", "tabak",
"tabac", "tobaks", "tabaks", "tabacs")
tobak_total <- filter(tekster_tidy, word %in% tobak_ord)
tobak_total %>%
count(word, sort = TRUE) -> tobak_antal
# The procent:
182/4844038*100
# Tobak procent:
130/4844038*100
tekster_tidy %>%
count(word, sort = TRUE) %>%
top_n(150)
# procent for konge
4927/4844038*100
# procent for historie
3532/4844038*100
stopord <- read_csv("stopord.txt")
tekster_tidy %>%
anti_join(stopord, by = "word") %>%
count(word, sort = TRUE) %>%
select(word, n) -> tekster_tidy_nostops
slice(tekster_tidy_nostops, 5728)
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- arrange(luksusvarer, desc(n))
luksusvarer %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 20) +
theme_minimal() +
scale_color_gradient(low = "black", high = "red")
library(tidyverse)
library(tidytext)
library(tei2r)
library(ggwordcloud)
read_tei <- function(folder) {
list.files(folder, pattern = '\\.xml$', full.names = TRUE) %>%
map_dfr(~.x %>% parseTEI(.,node = "text") %>%tibble())
}
tekster <- read_tei("/Users/vhol/Documents/Rprojects/Holbergskaffe/forfatterskab")
tekster <- rename(tekster, text = .)
data.frame(lapply(tekster, function(x) {gsub("[.]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x) {gsub("[:]", " ", x)})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([a-å])([0-9])","\\1 \\2")})) -> tekster
data.frame(lapply(tekster, function(x)
{str_replace_all(x, "([0-9])([a-åA-Å])","\\1 \\2")})) -> tekster
tekster %>%
unnest_tokens(word, text) %>%
select(word, everything()) -> tekster_tidy
kaffe_ord <- c("caffee", "caffe", "cafe", "café", "caffée", "coffee", "caffee-bord",
"caffee-bønner", "caffee-drik", "caffee-drikken", "caffee-drikker",
"caffee-huus", "kafé", "caffee-tand", "cafee", "caffeé")
kaffe_total <- filter(tekster_tidy, word %in% kaffe_ord)
kaffe_total %>%
count(word, sort = TRUE) -> kaffe_antal
kaffe_antal
99/4844038*100
the_ord <- c("thee", "the", "thée", "thé", "tee")
the_total <- filter(tekster_tidy, word %in% the_ord)
the_total %>%
count(word, sort = TRUE) -> the_antal
tobak_ord <- c("tobak", "toback", "tobac", "tobach", "tabak",
"tabac", "tobaks", "tabaks", "tabacs")
tobak_total <- filter(tekster_tidy, word %in% tobak_ord)
tobak_total %>%
count(word, sort = TRUE) -> tobak_antal
# The procent:
182/4844038*100
# Tobak procent:
130/4844038*100
tekster_tidy %>%
count(word, sort = TRUE) %>%
top_n(150)
# procent for konge
4927/4844038*100
# procent for historie
3532/4844038*100
stopord <- read_csv("stopord.txt")
tekster_tidy %>%
anti_join(stopord, by = "word") %>%
count(word, sort = TRUE) %>%
select(word, n) -> tekster_tidy_nostops
slice(tekster_tidy_nostops, 5728)
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- arrange(luksusvarer, desc(n))
luksusvarer %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 20) +
theme_minimal() +
scale_color_gradient(low = "black", high = "red")
View(tekster_tidy_nostops)
View(tekster_tidy)
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
luksusvarer <- arrange(luksusvarer, desc(n))
luksusvarer %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 20) +
theme_minimal() +
scale_color_gradient(low = "black", high = "red")
View(stopord)
tekster_tidy_nostops %>%
top_n(40) %>%
ggplot(aes(label = word, size = n, color = n)) +
geom_text_wordcloud() +
scale_size_area(max_size = 10) +
theme_minimal() +
scale_color_gradient(low = "blue", high = "red")
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
library(tidyverse)
library(tidytext)
library(tei2r)
library(ggwordcloud)
read_tei <- function(folder) {
list.files(folder, pattern = '\\.xml$', full.names = TRUE) %>%
map_dfr(~.x %>% parseTEI(.,node = "text") %>%tibble())
}
tekster <- read_tei("/Users/vhol/Documents/Rprojects/Holbergskaffe/forfatterskab")
tekster <- rename(tekster, text = .)
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal()
luksusvarer <- rbind(kaffe_antal, the_antal, tobak_antal)
luksusvarer %>%
ggplot(aes(x = word, y = n)) +
geom_col(fill="#3399FF", colour="black") +
coord_flip() +
theme_minimal() +
labs(title="Words in Ludvig Holbergs authorship related to tobacco, coffee and tea")
